export const plotStructures = {
  romancingTheBeat: {
    name: 'Romancing the Beat',
    description: 'Gwen Hayes\' romance-specific beat structure with 4 equal phases tracking the emotional journey from meet cute through conflict to happily ever after.',
    acts: [
      { name: 'Setup & Meeting', range: [0, 20], beats: ['setup', 'meetCute', 'noWay'] },
      { name: 'Falling in Love', range: [20, 50], beats: ['connection', 'midpoint'] },
      { name: 'Retreating from Love', range: [50, 75], beats: ['retreat', 'blackMoment'] },
      { name: 'Fighting for Love', range: [75, 100], beats: ['epiphany', 'grandGesture', 'hea'] },
    ],
    relatedFrameworks: 'Based on Gwen Hayes\' 20-beat Romancing the Beat (simplified to 10 beats). Related: Save the Cat adapted for romance, W-Plot emotional arc.',
    beats: {
      setup: { name: 'Setup', range: [0, 10], color: '#64748b' },
      meetCute: { name: 'Meet Cute', range: [10, 10], color: '#db2777' },
      noWay: { name: 'No Way', range: [10, 20], color: '#fb923c' },
      connection: { name: 'Connection', range: [20, 50], color: '#4ade80' },
      midpoint: { name: 'Midpoint', range: [50, 50], color: '#c084fc' },
      retreat: { name: 'Retreat', range: [50, 65], color: '#22d3ee' },
      blackMoment: { name: 'Black Moment', range: [65, 75], color: '#b91c1c' },
      epiphany: { name: 'Epiphany', range: [75, 85], color: '#fb7185' },
      grandGesture: { name: 'Grand Gesture', range: [85, 90], color: '#d8b4fe' },
      hea: { name: 'HEA', range: [90, 100], color: '#86efac' },
    },
  },
  heroJourney: {
    name: "Hero's Journey",
    description: 'Christopher Vogler\'s 12-stage adaptation of Joseph Campbell\'s monomyth, mapping the hero\'s departure, initiation, and return across a three-act structure.',
    acts: [
      { name: 'Act I: Departure', range: [0, 25], beats: ['ordinaryWorld', 'callToAdventure', 'refusalOfCall', 'meetingMentor', 'crossingThreshold'] },
      { name: 'Act II: Initiation', range: [25, 70], beats: ['testsAlliesEnemies', 'approachInmostCave', 'ordeal', 'reward'] },
      { name: 'Act III: Return', range: [70, 100], beats: ['roadBack', 'resurrection', 'returnWithElixir'] },
    ],
    relatedFrameworks: 'Based on Vogler\'s 12 stages of Campbell\'s 17-stage monomyth. Related: Story Circle (8 steps), Seven-Point Structure, Save the Cat.',
    beats: {
      ordinaryWorld: { name: 'Ordinary World', range: [0, 8], color: '#64748b' },
      callToAdventure: { name: 'Call to Adventure', range: [8, 12], color: '#60a5fa' },
      refusalOfCall: { name: 'Refusal of Call', range: [12, 15], color: '#818cf8' },
      meetingMentor: { name: 'Meeting Mentor', range: [15, 20], color: '#c084fc' },
      crossingThreshold: { name: 'Crossing Threshold', range: [20, 25], color: '#d8b4fe' },
      testsAlliesEnemies: { name: 'Tests/Allies/Enemies', range: [25, 50], color: '#4ade80' },
      approachInmostCave: { name: 'Approach Inmost Cave', range: [50, 55], color: '#fb923c' },
      ordeal: { name: 'Ordeal', range: [55, 65], color: '#b91c1c' },
      reward: { name: 'Reward', range: [65, 70], color: '#fcd34d' },
      roadBack: { name: 'Road Back', range: [70, 80], color: '#22d3ee' },
      resurrection: { name: 'Resurrection', range: [80, 90], color: '#f87171' },
      returnWithElixir: { name: 'Return with Elixir', range: [90, 100], color: '#86efac' },
    },
  },
  threeAct: {
    name: 'Three Act Structure',
    description: 'The foundational Western story framework (Aristotle/Syd Field) with asymmetric act distribution: 25% setup, 50% confrontation, 25% resolution.',
    acts: [
      { name: 'Act I: Setup', range: [0, 25], beats: ['setup', 'incitingIncident', 'firstPlotPoint'] },
      { name: 'Act II: Confrontation', range: [25, 75], beats: ['risingAction', 'midpoint', 'crisis', 'secondPlotPoint'] },
      { name: 'Act III: Resolution', range: [75, 100], beats: ['climax', 'resolution'] },
    ],
    relatedFrameworks: 'Codified by Syd Field (1979). Related: Save the Cat (15 beats within 3 acts), Eight-Sequence Structure (8 sequences within 3 acts), Michael Hauge\'s 6-Stage.',
    beats: {
      setup: { name: 'Act I: Setup', range: [0, 25], color: '#60a5fa' },
      incitingIncident: { name: 'Inciting Incident', range: [10, 15], color: '#c084fc' },
      firstPlotPoint: { name: 'First Plot Point', range: [25, 25], color: '#d8b4fe' },
      risingAction: { name: 'Act II: Rising Action', range: [25, 50], color: '#4ade80' },
      midpoint: { name: 'Midpoint', range: [50, 50], color: '#fb923c' },
      crisis: { name: 'Crisis/Complications', range: [50, 75], color: '#b91c1c' },
      secondPlotPoint: { name: 'Second Plot Point', range: [75, 75], color: '#f87171' },
      climax: { name: 'Act III: Climax', range: [75, 90], color: '#9333ea' },
      resolution: { name: 'Resolution', range: [90, 100], color: '#86efac' },
    },
  },
  mysterySuspense: {
    name: 'Mystery/Suspense Structure',
    description: 'Investigation-driven structure tracking the discovery arc from crime through false leads, revelations, and the final confrontation with truth.',
    acts: [
      { name: 'Act I: Discovery', range: [0, 25], beats: ['ordinaryWorld', 'crime', 'initialInvestigation'] },
      { name: 'Act II: Investigation', range: [25, 75], beats: ['firstTwist', 'deeperInvestigation', 'midpointRevelation', 'falseResolution', 'darkestMoment'] },
      { name: 'Act III: Resolution', range: [75, 100], beats: ['finalClues', 'climaxReveal', 'denouement'] },
    ],
    relatedFrameworks: 'Combines three-act proportions with investigation beats. Related: Fichtean Curve (crisis-driven pacing), Truby\'s 20-beat Thriller/Detective overlay.',
    beats: {
      ordinaryWorld: { name: 'Ordinary World', range: [0, 8], color: '#64748b' },
      crime: { name: 'Crime/Inciting Incident', range: [8, 12], color: '#b91c1c' },
      initialInvestigation: { name: 'Initial Investigation', range: [12, 25], color: '#60a5fa' },
      firstTwist: { name: 'First Twist', range: [25, 30], color: '#c084fc' },
      deeperInvestigation: { name: 'Deeper Investigation', range: [30, 50], color: '#4ade80' },
      midpointRevelation: { name: 'Midpoint Revelation', range: [50, 55], color: '#fb923c' },
      falseResolution: { name: 'False Resolution', range: [55, 65], color: '#d8b4fe' },
      darkestMoment: { name: 'Darkest Moment', range: [65, 75], color: '#9333ea' },
      finalClues: { name: 'Final Clues', range: [75, 85], color: '#fcd34d' },
      climaxReveal: { name: 'Climax & Reveal', range: [85, 95], color: '#f87171' },
      denouement: { name: 'Denouement', range: [95, 100], color: '#86efac' },
    },
  },
  womensFiction: {
    name: "Women's Fiction / Hallmark",
    description: 'Life transition story structure focused on personal growth, community, and gentle romance. Classic "Hallmark movie" arc: inciting change → new beginnings → finding belonging → happy ending.',
    acts: [
      { name: 'Act I: Life Disrupted', range: [0, 20], beats: ['oldLife', 'incitingChange', 'newBeginnings'] },
      { name: 'Act II: Finding Place', range: [20, 55], beats: ['meetingLocals', 'adjustmentStruggles', 'connectionGrows'] },
      { name: 'Act III: Complications', range: [55, 80], beats: ['minorConflict', 'pastInterferes', 'momentOfDoubt'] },
      { name: 'Act IV: Resolution', range: [80, 100], beats: ['breakthrough', 'communityMoment', 'newNormal'] },
    ],
    relatedFrameworks: 'Combines elements of Healing Journey with light romance beats. Related: Transformation Arc, Coming Home story, Fish Out of Water structure.',
    beats: {
      oldLife: { name: 'Old Life', range: [0, 5], color: '#64748b' },
      incitingChange: { name: 'Inciting Change', range: [5, 12], color: '#818cf8' },
      newBeginnings: { name: 'New Beginnings', range: [12, 20], color: '#60a5fa' },
      meetingLocals: { name: 'Meeting the Locals', range: [20, 30], color: '#4ade80' },
      adjustmentStruggles: { name: 'Adjustment Struggles', range: [30, 42], color: '#fb923c' },
      connectionGrows: { name: 'Connection Grows', range: [42, 55], color: '#db2777' },
      minorConflict: { name: 'Minor Conflict', range: [55, 65], color: '#c084fc' },
      pastInterferes: { name: 'Past Interferes', range: [65, 75], color: '#f87171' },
      momentOfDoubt: { name: 'Moment of Doubt', range: [75, 80], color: '#b91c1c' },
      breakthrough: { name: 'Breakthrough', range: [80, 88], color: '#22d3ee' },
      communityMoment: { name: 'Community Moment', range: [88, 95], color: '#fcd34d' },
      newNormal: { name: 'Happy New Normal', range: [95, 100], color: '#86efac' },
    },
  },
};

// 12-color palette for auto-assigning colors to converted reference structures
const PALETTE = [
  '#64748b', '#60a5fa', '#818cf8', '#c084fc', '#d8b4fe', '#db2777',
  '#fb923c', '#4ade80', '#22d3ee', '#fcd34d', '#b91c1c', '#f87171',
  '#86efac', '#9333ea', '#fb7185', '#a3e635', '#38bdf8', '#e879f9',
  '#fdba74', '#34d399', '#f472b6', '#a78bfa',
];
const pc = (i) => PALETTE[i % PALETTE.length];

// Converted reference structures in full plotStructures-compatible format
const convertedStructures = {
  sydFieldParadigm: {
    name: 'Syd Field Paradigm',
    description: 'Syd Field\'s screenplay paradigm with Plot Points at act boundaries (25%, 75%), a Midpoint (50%), and Pinch Points (37.5%, 62.5%).',
    category: 'act',
    acts: [
      { name: 'Act I', range: [0, 25], beats: ['act1Setup', 'plotPoint1'] },
      { name: 'Act II', range: [25, 75], beats: ['act2aConfrontation', 'midpoint', 'act2bComplications', 'plotPoint2'] },
      { name: 'Act III', range: [75, 100], beats: ['act3Resolution'] },
    ],
    relatedFrameworks: 'The dominant Western screenplay framework. Related: Three Act Structure (app version), Save the Cat, Eight-Sequence.',
    beats: {
      act1Setup: { name: 'Act 1 (Setup)', range: [0, 25], color: pc(1) },
      plotPoint1: { name: 'Plot Point 1', range: [25, 25], color: pc(3) },
      act2aConfrontation: { name: 'Act 2A (Confrontation)', range: [25, 50], color: pc(7) },
      midpoint: { name: 'Midpoint', range: [50, 50], color: pc(6) },
      act2bComplications: { name: 'Act 2B (Complications)', range: [50, 75], color: pc(10) },
      plotPoint2: { name: 'Plot Point 2', range: [75, 75], color: pc(11) },
      act3Resolution: { name: 'Act 3 (Resolution)', range: [75, 100], color: pc(12) },
    },
  },
  kishotenketsu: {
    name: 'Kishotenketsu',
    description: 'Japanese four-act structure with no conflict requirement. The "Ten" (twist) is a juxtaposition or recontextualization, not a conflict escalation.',
    category: 'act',
    acts: [
      { name: 'Ki', range: [0, 15], beats: ['ki'] },
      { name: 'Sho', range: [15, 60], beats: ['sho'] },
      { name: 'Ten', range: [60, 90], beats: ['ten'] },
      { name: 'Ketsu', range: [90, 100], beats: ['ketsu'] },
    ],
    relatedFrameworks: 'Used in manga, anime, Japanese film, and Nintendo game design. Conflict-free alternative to Western three-act.',
    beats: {
      ki: { name: 'Ki (Introduction)', range: [0, 15], color: pc(0) },
      sho: { name: 'Sho (Development)', range: [15, 60], color: pc(7) },
      ten: { name: 'Ten (Twist)', range: [60, 90], color: pc(5) },
      ketsu: { name: 'Ketsu (Reconciliation)', range: [90, 100], color: pc(12) },
    },
  },
  freytagPyramid: {
    name: 'Freytag\'s Pyramid',
    description: 'The only truly symmetric act structure. Climax at midpoint (50%), second half about consequences and downfall.',
    category: 'act',
    acts: [
      { name: 'Exposition', range: [0, 20], beats: ['exposition'] },
      { name: 'Rising Action', range: [20, 40], beats: ['risingAction'] },
      { name: 'Climax', range: [40, 60], beats: ['climax'] },
      { name: 'Falling Action', range: [60, 80], beats: ['fallingAction'] },
      { name: 'Denouement', range: [80, 100], beats: ['denouement'] },
    ],
    relatedFrameworks: 'Designed from analysis of Greek and Shakespearean plays. Only major structure with climax at midpoint.',
    beats: {
      exposition: { name: 'Exposition', range: [0, 20], color: pc(0) },
      risingAction: { name: 'Rising Action', range: [20, 40], color: pc(1) },
      climax: { name: 'Climax', range: [40, 60], color: pc(10) },
      fallingAction: { name: 'Falling Action', range: [60, 80], color: pc(6) },
      denouement: { name: 'Denouement', range: [80, 100], color: pc(12) },
    },
  },
  eightSequence: {
    name: 'Eight-Sequence Structure',
    description: 'Eight roughly equal sequences nested within three acts. Each sequence is a "mini-movie" with its own compressed arc.',
    category: 'act',
    acts: [
      { name: 'Act I', range: [0, 25], beats: ['seq1', 'seq2'] },
      { name: 'Act II', range: [25, 75], beats: ['seq3', 'seq4', 'seq5', 'seq6'] },
      { name: 'Act III', range: [75, 100], beats: ['seq7', 'seq8'] },
    ],
    relatedFrameworks: 'Developed at USC for screenwriting. Each sequence has its own goal, conflict, and resolution.',
    beats: {
      seq1: { name: 'Seq 1: Status Quo', range: [0, 13], color: pc(0) },
      seq2: { name: 'Seq 2: Debate', range: [13, 25], color: pc(2) },
      seq3: { name: 'Seq 3: First Attempt', range: [25, 38], color: pc(7) },
      seq4: { name: 'Seq 4: Midpoint', range: [38, 50], color: pc(6) },
      seq5: { name: 'Seq 5: Escalation', range: [50, 63], color: pc(10) },
      seq6: { name: 'Seq 6: Plot Point 2', range: [63, 75], color: pc(3) },
      seq7: { name: 'Seq 7: Climax', range: [75, 88], color: pc(13) },
      seq8: { name: 'Seq 8: Resolution', range: [88, 100], color: pc(12) },
    },
  },
  haugeSixStage: {
    name: 'Hauge\'s Six-Stage',
    description: 'Dual-track structure: every stage has both an outer (plot) journey and an inner (identity-to-essence) journey.',
    category: 'act',
    acts: [
      { name: 'Setup', range: [0, 10], beats: ['setup'] },
      { name: 'New Situation', range: [10, 25], beats: ['newSituation'] },
      { name: 'Progress', range: [25, 50], beats: ['progress'] },
      { name: 'Complications', range: [50, 75], beats: ['complications'] },
      { name: 'Final Push', range: [75, 90], beats: ['finalPush'] },
      { name: 'Aftermath', range: [90, 100], beats: ['aftermath'] },
    ],
    relatedFrameworks: 'Michael Hauge\'s framework for character-driven and love stories. Five turning points between stages.',
    beats: {
      setup: { name: 'I: Setup', range: [0, 10], color: pc(0) },
      newSituation: { name: 'II: New Situation', range: [10, 25], color: pc(1) },
      progress: { name: 'III: Progress', range: [25, 50], color: pc(7) },
      complications: { name: 'IV: Complications', range: [50, 75], color: pc(10) },
      finalPush: { name: 'V: Final Push', range: [75, 90], color: pc(13) },
      aftermath: { name: 'VI: Aftermath', range: [90, 100], color: pc(12) },
    },
  },
  wPlot: {
    name: 'W-Plot',
    description: 'Alternating emotional highs and lows creating a W-shape. Five turning points at roughly equal intervals.',
    category: 'act',
    acts: [
      { name: 'Part 1', range: [0, 25], beats: ['trigger', 'firstTurn'] },
      { name: 'Part 2', range: [25, 50], beats: ['midpointTrigger'] },
      { name: 'Part 3', range: [50, 75], beats: ['secondTurn'] },
      { name: 'Part 4', range: [75, 100], beats: ['wResolution'] },
    ],
    relatedFrameworks: 'Strong emotional arc framework. Related: Romancing the Beat (similar emotional W-shape for romance).',
    beats: {
      trigger: { name: 'Trigger (drop)', range: [0, 12], color: pc(10) },
      firstTurn: { name: 'First Turn (rise)', range: [12, 25], color: pc(7) },
      midpointTrigger: { name: 'Midpoint Trigger (drop)', range: [25, 50], color: pc(6) },
      secondTurn: { name: 'Second Turn (rise)', range: [50, 75], color: pc(1) },
      wResolution: { name: 'Resolution', range: [75, 100], color: pc(12) },
    },
  },
  fichteanCurve: {
    name: 'Fichtean Curve',
    description: 'No exposition -- opens in crisis. Rising action is a sawtooth wave of escalating crises. Extremely asymmetric (70/30).',
    category: 'act',
    acts: [
      { name: 'Rising Action', range: [0, 70], beats: ['risingAction'] },
      { name: 'Resolution', range: [70, 100], beats: ['climaxFalling'] },
    ],
    relatedFrameworks: 'Crisis-driven structure for thrillers, mysteries, horror. Backstory woven through flashbacks.',
    beats: {
      risingAction: { name: 'Rising Action (escalating crises)', range: [0, 70], color: pc(10) },
      climaxFalling: { name: 'Climax + Falling Action', range: [70, 100], color: pc(12) },
    },
  },
  saveTheCat: {
    name: 'Save the Cat',
    description: 'Blake Snyder / Jessica Brody\'s 15 precisely positioned beats within a three-act structure. Most documented percentage positions of any framework.',
    category: 'beat',
    acts: [
      { name: 'Act I', range: [0, 20], beats: ['openingImage', 'themeStated', 'stcSetup', 'catalyst', 'debate'] },
      { name: 'Act II', range: [20, 75], beats: ['breakIntoTwo', 'bStory', 'funAndGames', 'stcMidpoint', 'badGuysCloseIn'] },
      { name: 'Act III', range: [75, 100], beats: ['allIsLost', 'darkNight', 'breakIntoThree', 'finale', 'finalImage'] },
    ],
    relatedFrameworks: 'Jessica Brody adapted for novels with exact word-count targets. Related: Three Act, Syd Field, Hero\'s Journey.',
    beats: {
      openingImage: { name: 'Opening Image', range: [0, 1], color: pc(0) },
      themeStated: { name: 'Theme Stated', range: [5, 5], color: pc(2) },
      stcSetup: { name: 'Setup', range: [1, 10], color: pc(1) },
      catalyst: { name: 'Catalyst', range: [10, 10], color: pc(3) },
      debate: { name: 'Debate', range: [10, 20], color: pc(4) },
      breakIntoTwo: { name: 'Break Into Two', range: [20, 20], color: pc(5) },
      bStory: { name: 'B Story', range: [22, 22], color: pc(8) },
      funAndGames: { name: 'Fun and Games', range: [20, 50], color: pc(7) },
      stcMidpoint: { name: 'Midpoint', range: [50, 50], color: pc(6) },
      badGuysCloseIn: { name: 'Bad Guys Close In', range: [50, 75], color: pc(10) },
      allIsLost: { name: 'All Is Lost', range: [75, 75], color: pc(11) },
      darkNight: { name: 'Dark Night of the Soul', range: [75, 80], color: pc(13) },
      breakIntoThree: { name: 'Break Into Three', range: [80, 80], color: pc(3) },
      finale: { name: 'Finale', range: [80, 99], color: pc(14) },
      finalImage: { name: 'Final Image', range: [99, 100], color: pc(12) },
    },
  },
  truby22: {
    name: 'Truby\'s 22 Steps',
    description: 'John Truby\'s organic story structure. Rejects imposed act divisions -- structure grows from character need and moral argument. 22 steps expanding from 7 key story DNA steps.',
    category: 'beat',
    acts: [],
    relatedFrameworks: 'Truby teaches 14 genre-specific beat overlays. His 7 key steps: weakness/need, desire, opponent, plan, battle, self-revelation, new equilibrium.',
    beats: {
      selfRevelationNeed: { name: 'Self-revelation, need, desire', range: [0, 5], color: pc(0) },
      ghostWorld: { name: 'Ghost and story world', range: [0, 5], color: pc(1) },
      weaknessNeed: { name: 'Weakness and need', range: [5, 10], color: pc(2) },
      incitingEvent: { name: 'Inciting event', range: [12, 12], color: pc(3) },
      desire: { name: 'Desire', range: [15, 15], color: pc(5) },
      allies: { name: 'Ally or allies', range: [15, 20], color: pc(7) },
      opponent: { name: 'Opponent and/or mystery', range: [15, 20], color: pc(10) },
      fakeAlly: { name: 'Fake-ally opponent', range: [20, 25], color: pc(4) },
      firstRevelation: { name: 'First revelation and decision', range: [25, 25], color: pc(6) },
      plan: { name: 'Plan', range: [25, 35], color: pc(8) },
      opponentPlan: { name: 'Opponent\'s plan / counterattack', range: [35, 45], color: pc(9) },
      drive: { name: 'Drive', range: [35, 50], color: pc(1) },
      attackByAlly: { name: 'Attack by ally', range: [55, 55], color: pc(11) },
      apparentDefeat: { name: 'Apparent defeat', range: [60, 60], color: pc(10) },
      secondRevelation: { name: 'Second revelation and decision', range: [65, 65], color: pc(3) },
      audienceRevelation: { name: 'Audience revelation', range: [70, 70], color: pc(5) },
      thirdRevelation: { name: 'Third revelation and decision', range: [75, 75], color: pc(6) },
      gateGauntlet: { name: 'Gate, gauntlet, visit to death', range: [75, 85], color: pc(13) },
      battle: { name: 'Battle', range: [85, 90], color: pc(10) },
      selfRevelation: { name: 'Self-revelation', range: [92, 92], color: pc(14) },
      moralDecision: { name: 'Moral decision', range: [95, 95], color: pc(3) },
      newEquilibrium: { name: 'New equilibrium', range: [95, 100], color: pc(12) },
    },
  },
  storyCircle: {
    name: 'Story Circle',
    description: 'Dan Harmon\'s circular 8-step structure. Top half = order, bottom half = chaos. Opposite steps mirror each other.',
    category: 'beat',
    acts: [
      { name: 'Order (Top)', range: [0, 25], beats: ['you', 'need'] },
      { name: 'Into Chaos', range: [25, 50], beats: ['go', 'search'] },
      { name: 'Chaos (Bottom)', range: [50, 75], beats: ['find', 'take'] },
      { name: 'Return to Order', range: [75, 100], beats: ['returnHome', 'change'] },
    ],
    relatedFrameworks: 'Simplified Hero\'s Journey for TV (Community, Rick and Morty). Related: Hero\'s Journey, Seven-Point.',
    beats: {
      you: { name: 'You (comfort zone)', range: [0, 12], color: pc(0) },
      need: { name: 'Need (something lacking)', range: [12, 25], color: pc(1) },
      go: { name: 'Go (enter unfamiliar)', range: [25, 37], color: pc(7) },
      search: { name: 'Search (adapt)', range: [37, 50], color: pc(8) },
      find: { name: 'Find (get what they wanted)', range: [50, 62], color: pc(9) },
      take: { name: 'Take (pay the price)', range: [62, 75], color: pc(10) },
      returnHome: { name: 'Return (go back)', range: [75, 87], color: pc(3) },
      change: { name: 'Change (transformed)', range: [87, 100], color: pc(12) },
    },
  },
  sevenPoint: {
    name: 'Seven-Point Structure',
    description: 'Dan Wells\' 7-point system with points mirroring around the midpoint. Designed to be plotted backwards.',
    category: 'beat',
    acts: [
      { name: 'First Half', range: [0, 50], beats: ['hook', 'plotTurn1', 'pinch1', 'spMidpoint'] },
      { name: 'Second Half', range: [50, 100], beats: ['pinch2', 'plotTurn2', 'spResolution'] },
    ],
    relatedFrameworks: 'Plot backwards: Resolution, Hook, Midpoint, Plot Turns, Pinch Points. Related: Three Act, Save the Cat.',
    beats: {
      hook: { name: 'Hook', range: [0, 25], color: pc(0) },
      plotTurn1: { name: 'Plot Turn 1', range: [25, 25], color: pc(3) },
      pinch1: { name: 'Pinch 1', range: [37, 37], color: pc(6) },
      spMidpoint: { name: 'Midpoint', range: [50, 50], color: pc(5) },
      pinch2: { name: 'Pinch 2', range: [62, 62], color: pc(10) },
      plotTurn2: { name: 'Plot Turn 2', range: [75, 75], color: pc(11) },
      spResolution: { name: 'Resolution', range: [90, 100], color: pc(12) },
    },
  },
};

// Unified export: all 15 structures in the same format
export const allStructures = { ...plotStructures, ...convertedStructures };

// Keys grouped by category for the structure selector UI
export const structureGroups = {
  app: ['romancingTheBeat', 'heroJourney', 'threeAct', 'mysterySuspense'],
  act: ['sydFieldParadigm', 'kishotenketsu', 'freytagPyramid', 'eightSequence', 'haugeSixStage', 'wPlot', 'fichteanCurve'],
  beat: ['saveTheCat', 'truby22', 'storyCircle', 'sevenPoint'],
};

// Shared act colors for chart bands and structure reference
export const ACT_COLORS = ['#60a5fa', '#4ade80', '#fb923c', '#c084fc', '#f87171', '#22d3ee'];

// Beat selector: all structures with meaningful beat granularity (no separate "app" heading)
export const beatSelectorGroups = {
  beat: [...structureGroups.app, ...structureGroups.beat],
};

// Act selector: all structures with acts defined (no separate "app" heading)
export const actSelectorGroups = {
  act: [...structureGroups.app, ...structureGroups.act],
};

// Reference structures from established story craft frameworks (not used in app analysis,
// provided for author reference in the Help page and Scaffolding quick reference)
export const referenceStructures = [
  // === ACT STRUCTURES ===
  {
    name: 'Three-Act / Syd Field Paradigm',
    type: 'hybrid',
    count: 3,
    countLabel: '3 acts + plot points',
    distribution: '25% / 50% / 25%',
    symmetric: false,
    genres: 'Universal (screenwriting origin)',
    summary: 'The dominant Western story framework. Syd Field codified Aristotle\'s beginning/middle/end with specific page targets for screenplays. Act 2 is double the length of Acts 1 and 3. Plot Points at act boundaries (25%, 75%), a Midpoint (50%), and Pinch Points (37.5%, 62.5%).',
    steps: [
      { name: 'Act 1 (Setup)', position: '0-25%' },
      { name: 'Plot Point 1', position: '~25%' },
      { name: 'Act 2A (Confrontation)', position: '25-50%' },
      { name: 'Midpoint', position: '~50%' },
      { name: 'Act 2B (Complications)', position: '50-75%' },
      { name: 'Plot Point 2', position: '~75%' },
      { name: 'Act 3 (Resolution)', position: '75-100%' },
    ],
  },
  {
    name: 'Kishotenketsu',
    type: 'act',
    count: 4,
    countLabel: '4 acts',
    distribution: '15% / 45% / 30% / 10%',
    symmetric: false,
    genres: 'Literary fiction, manga/anime, East Asian traditions',
    summary: 'Japanese four-act structure with no conflict requirement. The "Ten" (twist) is not a conflict escalation but a juxtaposition or recontextualization. Used in manga, anime, Japanese film, and Nintendo game design.',
    steps: [
      { name: 'Ki (Introduction)', position: '0-15%' },
      { name: 'Sho (Development)', position: '15-60%' },
      { name: 'Ten (Twist)', position: '60-90%' },
      { name: 'Ketsu (Reconciliation)', position: '90-100%' },
    ],
  },
  {
    name: 'Freytag\'s Pyramid',
    type: 'act',
    count: 5,
    countLabel: '5 acts',
    distribution: '20% / 20% / 20% / 20% / 20%',
    symmetric: true,
    genres: 'Classical drama, tragedy, Shakespeare, literary fiction',
    summary: 'The only truly symmetric major act structure. Climax at midpoint (50%), not at 75-90% as in three-act. The second half is about consequences and downfall. Designed from analysis of Greek and Shakespearean plays.',
    steps: [
      { name: 'Exposition', position: '0-20%' },
      { name: 'Rising Action', position: '20-40%' },
      { name: 'Climax', position: '40-60%' },
      { name: 'Falling Action', position: '60-80%' },
      { name: 'Denouement', position: '80-100%' },
    ],
  },
  {
    name: 'Eight-Sequence Structure',
    type: 'act',
    count: 8,
    countLabel: '8 sequences in 3 acts',
    distribution: '~12.5% each',
    symmetric: true,
    genres: 'Screenwriting (developed at USC)',
    summary: 'Eight roughly equal sequences nested within three acts. Each sequence is a "mini-movie" with its own compressed three-act structure. Sequences are roughly equal but grouped into asymmetric acts (2 + 4 + 2).',
    steps: [
      { name: 'Seq 1: Status quo, inciting incident', position: '0-12.5%' },
      { name: 'Seq 2: Debate, Plot Point 1', position: '12.5-25%' },
      { name: 'Seq 3: First attempt', position: '25-37.5%' },
      { name: 'Seq 4: Midpoint culmination', position: '37.5-50%' },
      { name: 'Seq 5: Escalation', position: '50-62.5%' },
      { name: 'Seq 6: Plot Point 2', position: '62.5-75%' },
      { name: 'Seq 7: Climax', position: '75-87.5%' },
      { name: 'Seq 8: Resolution', position: '87.5-100%' },
    ],
  },
  {
    name: 'Michael Hauge\'s Six-Stage',
    type: 'hybrid',
    count: 6,
    countLabel: '6 stages + 5 turning points',
    distribution: '10% / 15% / 25% / 25% / 15% / 10%',
    symmetric: false,
    genres: 'Character-driven stories, love stories, screenwriting',
    summary: 'Unique dual-track structure: every stage has both an outer (plot) journey and an inner (identity-to-essence) journey. Five turning points between stages drive both tracks simultaneously.',
    steps: [
      { name: 'I: Setup', position: '0-10%' },
      { name: 'II: New Situation', position: '10-25%' },
      { name: 'III: Progress', position: '25-50%' },
      { name: 'IV: Complications', position: '50-75%' },
      { name: 'V: Final Push', position: '75-90%' },
      { name: 'VI: Aftermath', position: '90-100%' },
    ],
  },
  {
    name: 'W-Plot',
    type: 'hybrid',
    count: 4,
    countLabel: '4 parts + 5 turning points',
    distribution: '~25% / 25% / 25% / 25%',
    symmetric: true,
    genres: 'Character-driven, romance, strong emotional arcs',
    summary: 'The W-shape represents alternating emotional highs and lows. Five turning points create the "W" pattern: hope drops, rises, drops, rises, resolves. Turning points at roughly equal intervals.',
    steps: [
      { name: 'Trigger (drop)', position: '0-12%' },
      { name: 'First Turn (rise)', position: '12-25%' },
      { name: 'Midpoint Trigger (drop)', position: '25-50%' },
      { name: 'Second Turn (rise)', position: '50-75%' },
      { name: 'Resolution', position: '75-100%' },
    ],
  },
  {
    name: 'Fichtean Curve',
    type: 'act',
    count: 2,
    countLabel: '2 phases',
    distribution: '70% / 30%',
    symmetric: false,
    genres: 'Thrillers, mysteries, horror, action/adventure',
    summary: 'No exposition act -- opens immediately in crisis. Rising action is a sawtooth wave of escalating crises. Backstory woven through flashbacks and dialogue. Extremely asymmetric.',
    steps: [
      { name: 'Rising Action (escalating crises)', position: '0-70%' },
      { name: 'Climax + Falling Action', position: '70-100%' },
    ],
  },
  // === BEAT STRUCTURES ===
  {
    name: 'Save the Cat (Blake Snyder / Jessica Brody)',
    type: 'beat',
    count: 15,
    countLabel: '15 beats',
    distribution: '20% / 55% / 25% (underlying acts)',
    symmetric: false,
    genres: 'Universal (screenwriting origin, adapted for novels)',
    summary: 'The most precisely documented beat positions of any framework. Jessica Brody\'s novel adaptation provides exact percentage targets. 15 beats within a three-act structure.',
    steps: [
      { name: 'Opening Image', position: '0%' },
      { name: 'Theme Stated', position: '5%' },
      { name: 'Setup', position: '1-10%' },
      { name: 'Catalyst', position: '10%' },
      { name: 'Debate', position: '10-20%' },
      { name: 'Break Into Two', position: '20%' },
      { name: 'B Story', position: '22%' },
      { name: 'Fun and Games', position: '20-50%' },
      { name: 'Midpoint', position: '50%' },
      { name: 'Bad Guys Close In', position: '50-75%' },
      { name: 'All Is Lost', position: '75%' },
      { name: 'Dark Night of the Soul', position: '75-80%' },
      { name: 'Break Into Three', position: '80%' },
      { name: 'Finale', position: '80-99%' },
      { name: 'Final Image', position: '99-100%' },
    ],
  },
  {
    name: 'Truby\'s 22 Steps',
    type: 'beat',
    count: 22,
    countLabel: '22 steps (organic)',
    distribution: 'No prescribed percentages',
    symmetric: false,
    genres: 'Universal (14 genre-specific overlays)',
    summary: 'Truby explicitly rejects act structure as "meaningless." Structure grows organically from character need and moral argument. The 22 steps expand from 7 key steps that form the DNA of every story. Truby also teaches 14 genre-specific beat overlays.',
    steps: [
      { name: 'Self-revelation, need, and desire', position: '~0-5%' },
      { name: 'Ghost and story world', position: '~0-5%' },
      { name: 'Weakness and need', position: '~5-10%' },
      { name: 'Inciting event', position: '~12%' },
      { name: 'Desire', position: '~15%' },
      { name: 'Ally or allies', position: '~15-20%' },
      { name: 'Opponent and/or mystery', position: '~15-20%' },
      { name: 'Fake-ally opponent', position: '~20-25%' },
      { name: 'First revelation and decision', position: '~25%' },
      { name: 'Plan', position: '~25-35%' },
      { name: 'Opponent\'s plan and main counterattack', position: '~35-45%' },
      { name: 'Drive', position: '~35-50%' },
      { name: 'Attack by ally', position: '~55%' },
      { name: 'Apparent defeat', position: '~60%' },
      { name: 'Second revelation and decision', position: '~65%' },
      { name: 'Audience revelation', position: '~70%' },
      { name: 'Third revelation and decision', position: '~75%' },
      { name: 'Gate, gauntlet, visit to death', position: '~75-85%' },
      { name: 'Battle', position: '~85-90%' },
      { name: 'Self-revelation', position: '~92%' },
      { name: 'Moral decision', position: '~95%' },
      { name: 'New equilibrium', position: '~95-100%' },
    ],
  },
  {
    name: 'Dan Harmon\'s Story Circle',
    type: 'beat',
    count: 8,
    countLabel: '8 steps / 4 quadrants',
    distribution: '25% / 25% / 25% / 25% (quadrants)',
    symmetric: true,
    genres: 'TV/episodic, comedy, animation',
    summary: 'Circular 8-step structure where top half = order, bottom half = chaos. Opposite steps mirror each other. Developed for TV (Community, Rick and Morty). Simplified version of the Hero\'s Journey.',
    steps: [
      { name: 'You (comfort zone)', position: '0%' },
      { name: 'Need (something lacking)', position: '~12%' },
      { name: 'Go (enter unfamiliar)', position: '~25%' },
      { name: 'Search (adapt)', position: '~37%' },
      { name: 'Find (get what they wanted)', position: '~50%' },
      { name: 'Take (pay the price)', position: '~62%' },
      { name: 'Return (go back)', position: '~75%' },
      { name: 'Change (transformed)', position: '~87-100%' },
    ],
  },
  {
    name: 'Seven-Point Story Structure',
    type: 'beat',
    count: 7,
    countLabel: '7 points (symmetric mirror)',
    distribution: 'Points mirror around midpoint',
    symmetric: true,
    genres: 'Universal',
    summary: 'Dan Wells\' 7-point system with points mirroring around the midpoint. Designed to be plotted backwards: Resolution first, then Hook, then Midpoint, then fill in Plot Turns and Pinch Points.',
    steps: [
      { name: 'Hook', position: '0%' },
      { name: 'Plot Turn 1', position: '~25%' },
      { name: 'Pinch 1', position: '~37%' },
      { name: 'Midpoint', position: '50%' },
      { name: 'Pinch 2', position: '~62%' },
      { name: 'Plot Turn 2', position: '~75%' },
      { name: 'Resolution', position: '~90-100%' },
    ],
  },
];
